<Window x:Class="MarcaAsistencia.Views.MarcaAsistenciaWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Marca de Asistencia - Empleado" Height="500" Width="700"
        WindowStartupLocation="CenterScreen">
    <Window.Resources>
        <!-- Estilo para centrar texto en las columnas -->
        <Style x:Key="CenterTextStyle" TargetType="TextBlock">
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
    </Window.Resources>

    <DockPanel Margin="10">
        <StackPanel DockPanel.Dock="Top" Margin="0,0,0,20">
            <TextBlock Text="¡Bienvenido! Registra tu asistencia del día" 
                       FontSize="16" FontWeight="Bold" 
                       HorizontalAlignment="Center" Margin="0,0,0,15"/>

            <TextBlock x:Name="lblEmpleado" Text="" FontSize="14" 
                       FontWeight="SemiBold" HorizontalAlignment="Center" 
                       Margin="0,0,0,20" Foreground="DarkBlue"/>

            <WrapPanel HorizontalAlignment="Center">
                <Button x:Name="btnEntrada" Content="⏰ Entrada" 
                        Click="BtnEntrada_Click" Width="140" Height="50" 
                        Margin="5" Background="#28A745" Foreground="White" 
                        FontSize="14" FontWeight="Bold" Cursor="Hand"/>

                <Button x:Name="btnIdaComer" Content="🍽️ Ida a Comer" 
                        Click="BtnIdaComer_Click" Width="140" Height="50" 
                        Margin="5" Background="#FFC107" Foreground="Black" 
                        FontSize="14" FontWeight="Bold" Cursor="Hand"/>

                <Button x:Name="btnVueltaComer" Content="🍽️ Vuelta de Comer" 
                        Click="BtnVueltaComer_Click" Width="140" Height="50" 
                        Margin="5" Background="#17A2B8" Foreground="White" 
                        FontSize="14" FontWeight="Bold" Cursor="Hand"/>

                <Button x:Name="btnSalida" Content="🏠 Salida" 
                        Click="BtnSalida_Click" Width="140" Height="50" 
                        Margin="5" Background="#DC3545" Foreground="White" 
                        FontSize="14" FontWeight="Bold" Cursor="Hand"/>
            </WrapPanel>

            <TextBlock x:Name="lblMensaje" FontWeight="Bold" 
                       HorizontalAlignment="Center" Margin="0,15,0,0" 
                       FontSize="12" TextWrapping="Wrap"/>
        </StackPanel>

        <!-- Historial del día -->
        <GroupBox Header="Mi asistencia de hoy" DockPanel.Dock="Top" Margin="0,0,0,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" Text="Fecha:" 
                           FontWeight="Bold" VerticalAlignment="Center"/>

                <TextBlock x:Name="lblFecha" Grid.Column="1" 
                           Text="" VerticalAlignment="Center" 
                           Margin="10,0,0,0" FontWeight="SemiBold"/>
            </Grid>
        </GroupBox>

        <!-- Tabla de horarios -->
        <DataGrid x:Name="dgHorario" AutoGenerateColumns="False" IsReadOnly="True" 
                  GridLinesVisibility="Horizontal" HeadersVisibility="Column">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Evento" Binding="{Binding Evento}" 
                                    Width="150">
                    <DataGridTextColumn.ElementStyle>
                        <Style TargetType="TextBlock">
                            <Setter Property="HorizontalAlignment" Value="Center"/>
                        </Style>
                    </DataGridTextColumn.ElementStyle>
                </DataGridTextColumn>
                <DataGridTextColumn Header="Hora" Binding="{Binding Hora}" 
                                    Width="100">
                    <DataGridTextColumn.ElementStyle>
                        <Style TargetType="TextBlock">
                            <Setter Property="HorizontalAlignment" Value="Center"/>
                        </Style>
                    </DataGridTextColumn.ElementStyle>
                </DataGridTextColumn>
                <DataGridTextColumn Header="Estado" Binding="{Binding Estado}" 
                                    Width="120">
                    <DataGridTextColumn.ElementStyle>
                        <Style TargetType="TextBlock">
                            <Setter Property="HorizontalAlignment" Value="Center"/>
                        </Style>
                    </DataGridTextColumn.ElementStyle>
                </DataGridTextColumn>
            </DataGrid.Columns>
        </DataGrid>

        <Button Content="Cerrar Sesión" Click="BtnCerrarSesion_Click" 
                VerticalAlignment="Bottom" HorizontalAlignment="Right" 
                Width="120" Height="30" Margin="0,10,0,0"
                Background="#6C757D" Foreground="White"/>
    </DockPanel>
</Window>